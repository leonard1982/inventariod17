/******************************************************************************/
/***       Generated by IBExpert 2012.02.21 17/02/2026 07:39:34 a. m.       ***/
/******************************************************************************/

SET NAMES NONE;

CREATE DATABASE 'F:\Datos TNS\INVENTARIOS.GDB'
USER 'SYSDBA' PASSWORD 'masterkey'
PAGE_SIZE 4096
DEFAULT CHARACTER SET NONE COLLATION NONE;



/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/



CREATE TABLE BD_ANIOS (
    ID       INTEGER NOT NULL,
    ANIO     INTEGER NOT NULL,
    RUTA_BD  VARCHAR(300) NOT NULL
);

CREATE TABLE CONFIGURACIONES (
    ID                    INTEGER NOT NULL,
    PORCENTAJE_SEGURIDAD  INTEGER NOT NULL,
    TIEMPO_ENTREGA        INTEGER NOT NULL,
    ACTUALIZADO           DATE NOT NULL,
    USUARIO               VARCHAR(30) NOT NULL,
    DIAS_INVENTARIO       INTEGER,
    PREFIJO_PEDIDOS       CHAR(2),
    DIAS_PEDIDOS          INTEGER NOT NULL,
    TENDENCIA_MESES       DOUBLE PRECISION,
    PREFIJO_TRASLADO      CHAR(2),
    PREFIJO_ORDEN_PEDIDO  CHAR(2),
    CORREO_NOTIFICACION   VARCHAR(100),
    PREFIJO_MUSICAL       CHAR(2),
    DIAS_PARA_CIERRE      INTEGER,
    ID_GRUPO_OMITIR       INTEGER,
    EJECUTAR_CADA         INTEGER,
    INICIAR_EN            DATE,
    GRUPO                 INTEGER,
    NIT_PROVEEDOR         VARCHAR(20)
);

CREATE TABLE ELIMINADOS (
    ID                 INTEGER NOT NULL,
    FECHA              DATE,
    CODIGO             VARCHAR(25),
    DESCRIPCION        VARCHAR(250),
    ULTIMO_MOVIMIENTO  VARCHAR(50),
    ELIMINADO          CHAR(2),
    MATID              INTEGER
);

CREATE TABLE ESTADOS_PEDIDOS (
    ID           INTEGER NOT NULL,
    CODIGO       VARCHAR(30),
    DESCRIPCION  VARCHAR(100),
    ORDEN        INTEGER
);

CREATE TABLE HISTORIOCO_MIN_MAX (
    ID            INTEGER NOT NULL,
    FECHAYHORA    DATE NOT NULL,
    ANIO          INTEGER NOT NULL,
    MES           INTEGER NOT NULL,
    CODIGO        VARCHAR(25) NOT NULL,
    DESCRIP       VARCHAR(250) NOT NULL,
    MINIMO        NUMERIC(15,3) NOT NULL,
    MAXIMO        NUMERIC(15,3) NOT NULL,
    EXISTENC      NUMERIC(15,3) NOT NULL,
    COSTO         NUMERIC(15,2) NOT NULL,
    FORMULA       VARCHAR(100),
    PUNTO_PEDIDO  NUMERIC(15,3)
);

CREATE TABLE LOG_ESTADOS_PEDIDOS (
    ID         INTEGER NOT NULL,
    FECHA      DATE,
    DATOS_ANT  VARCHAR(500),
    DATOS_NUE  VARCHAR(500),
    OPERACION  VARCHAR(50),
    USUARIO    VARCHAR(30)
);

CREATE TABLE MINIMOS (
    ID             INTEGER NOT NULL,
    FECHAYHORA     DATE NOT NULL,
    ANIO           INTEGER NOT NULL,
    MES            INTEGER NOT NULL,
    CODIGO         VARCHAR(25) NOT NULL,
    DESCRIP        VARCHAR(250) NOT NULL,
    EXISTENC       NUMERIC(15,3) NOT NULL,
    CANTIDAD       NUMERIC(15,3) NOT NULL,
    COSTO          DOUBLE PRECISION NOT NULL,
    PRECIO         DOUBLE PRECISION NOT NULL,
    DOCUMENTO      VARCHAR(30),
    PEDIDO_COMPRA  VARCHAR(30),
    USUARIO        VARCHAR(30)
);

CREATE TABLE SN_LOG_CIERRE_BACKORDER (
    ID          INTEGER NOT NULL,
    FECHA       DATE,
    DEKARDEXID  INTEGER,
    MATID       INTEGER,
    PEDIDO      VARCHAR(6)
);



/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE BD_ANIOS ADD CONSTRAINT PK_BD_ANIOS PRIMARY KEY (ID);
ALTER TABLE CONFIGURACIONES ADD CONSTRAINT PK_CONFIGURACIONES PRIMARY KEY (ID);
ALTER TABLE ELIMINADOS ADD CONSTRAINT PK_ELIMINADOS PRIMARY KEY (ID);
ALTER TABLE ESTADOS_PEDIDOS ADD CONSTRAINT PK_ESTADOS_PEDIDOS PRIMARY KEY (ID);
ALTER TABLE HISTORIOCO_MIN_MAX ADD CONSTRAINT PK_HISTORIOCO_MIN_MAX PRIMARY KEY (ID);
ALTER TABLE LOG_ESTADOS_PEDIDOS ADD CONSTRAINT PK_LOG_ESTADOS_PEDIDOS PRIMARY KEY (ID);
ALTER TABLE MINIMOS ADD CONSTRAINT PK_MINIMOS PRIMARY KEY (ID);
ALTER TABLE SN_LOG_CIERRE_BACKORDER ADD CONSTRAINT PK_SN_LOG_CIERRE_BACKORDER PRIMARY KEY (ID);


/******************************************************************************/
/***                                Indices                                 ***/
/******************************************************************************/

CREATE INDEX IDX_CONFIGURACIONES_DIASPED ON CONFIGURACIONES (DIAS_PEDIDOS);
CREATE INDEX IDX_CONFIGURACIONES_GRUPO ON CONFIGURACIONES (GRUPO);
CREATE INDEX IDX_CONFIGURACIONES_PJ ON CONFIGURACIONES (PREFIJO_PEDIDOS);
CREATE INDEX IDX_CONFIGURACIONES_PJO ON CONFIGURACIONES (PREFIJO_ORDEN_PEDIDO);
CREATE INDEX IDX_CONFIGURACIONES_PJT ON CONFIGURACIONES (PREFIJO_TRASLADO);
CREATE INDEX IDX_CONFIGURACIONES_PROVEE ON CONFIGURACIONES (NIT_PROVEEDOR);
CREATE INDEX IDX_CONFIGURACIONES_USUARIO ON CONFIGURACIONES (USUARIO);
CREATE INDEX IDX_HISTORIOCO_MIN_MAX_ANIO ON HISTORIOCO_MIN_MAX (ANIO);
CREATE INDEX IDX_HISTORIOCO_MIN_MAX_CODIGO ON HISTORIOCO_MIN_MAX (CODIGO);
CREATE INDEX IDX_HISTORIOCO_MIN_MAX_DESCRIP ON HISTORIOCO_MIN_MAX (DESCRIP);
CREATE INDEX IDX_HISTORIOCO_MIN_MAX_FC ON HISTORIOCO_MIN_MAX (FECHAYHORA);
CREATE INDEX IDX_HISTORIOCO_MIN_MAX_MES ON HISTORIOCO_MIN_MAX (MES);
CREATE INDEX IDX_HISTORIOCO_MIN_MAX_PP ON HISTORIOCO_MIN_MAX (PUNTO_PEDIDO);


/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

